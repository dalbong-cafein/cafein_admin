{"version":3,"file":"static/js/755.6f80a69b.chunk.js","mappings":"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","sources":["components/MarketingsItem.jsx","pages/Marketing.jsx"],"sourcesContent":["import { ReactComponent as Memo } from \"../svg/memo.svg\";\nimport * as S from \"../pages/style copy\";\nimport styled from \"styled-components\";\n\nconst MarketingsItem = ({\n  data,\n  setAlert,\n  setReportId,\n  setSelectItem,\n  setMemoModal,\n  setMemoItem,\n  page,\n  alert,\n}) => {\n  const changeState = (id, state) => {\n    if (!state) {\n      setAlert(!alert);\n      setReportId(id);\n    }\n  };\n  return (\n    <S.DataBox>\n      {data &&\n        data.slice((page - 1) * 9, (page - 1) * 9 + 10).map((item, i) => (\n          <ItemRow key={i}>\n            <div>{String(item.couponId).padStart(6, \"0\")}</div>\n            <div>{item.brandName}</div>\n            <div>{item.itemName}</div>\n            <div>{String(item.memberId).padStart(6, \"0\")}</div>\n            <div>{item.phone || \"-\"}</div>\n            <div>{String(item.regDateTime).split(\"T\")[0]}</div>\n            <div>\n              {item.processingDateTime ? String(item.processingDateTime).split(\"T\")[0] : \"-\"}\n            </div>\n            <div>\n              <S.Btn\n                content={item.status}\n                onClick={() => {\n                  changeState(item.couponId, item.state);\n                }}\n              >\n                {item.processingDateTime !== null ? \"완료\" : \"미완료\"}\n              </S.Btn>\n            </div>\n            <div>\n              <Memo\n                onClick={() => {\n                  setSelectItem(item);\n                  setMemoItem(item);\n                  setMemoModal(true);\n                }}\n              />\n            </div>\n          </ItemRow>\n        ))}\n    </S.DataBox>\n  );\n};\n\nconst ItemRow = styled.div`\n  display: flex;\n  color: #e3e3e3;\n  font-size: 14px;\n  // flex: 1;\n  height: calc(65vh / 9);\n  cursor: pointer;\n  border-bottom: 1px solid #515151;\n  & > div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    line-height: 18px;\n    box-sizing: border-box;\n    flex: 1;\n    border-right: 1px solid #515151;\n  }\n  & > div:nth-child(3) {\n    flex: 2;\n  }\n  & > div:last-child {\n    border-right: none;\n    border-bottom: none;\n    & > svg {\n      path {\n        fill: ${(props) => (props.hasMemoId ? \"#E3E3E3\" : \"#646464\")};\n      }\n    }\n  }\n`;\n\nexport default MarketingsItem;\n","import { useEffect, useState } from \"react\";\nimport usePagination from \"../hooks/usePagination\";\nimport useSearch from \"../hooks/useSearch\";\n\nimport * as S from \"./style copy\";\nimport styled from \"styled-components\";\n\nimport None from \"../components/common/None\";\n\nimport { changeStateApi, marketingListApi, marketingSearchApi } from \"../util/events\";\nimport RedAlert from \"../components/modal/RedAlert\";\nimport MarketingsItem from \"../components/MarketingsItem\";\nimport MemoModal from \"../components/modal/Memo\";\nimport FilterRow from \"../components/common/FilterRow\";\n\nimport SelectHeader from \"../components/common/SelectHeader\";\n\nconst Marketing = () => {\n  const [search, setSearch] = useState(\"\");\n\n  const [data, setData] = useState([]);\n  const [reportId, setReportId] = useState(null);\n  const [alert, setAlert] = useState(false);\n\n  const [memoItem, setMemoItem] = useState(null);\n  const [modalMemo, setModalMemo] = useState(false);\n\n  //drop\n  const [searchType, setSearchType, searchArr, setSearchArr] = useSearch([\n    \"분류\",\n    \"회원 번호\",\n    \"핸드폰\",\n  ]);\n\n  // pagination\n  const [page, sort, item, count, setCount, setPage, onDesc, onAsc] = usePagination();\n\n  const searchData = () => {\n    marketingSearchApi(searchType, search, page, sort)\n      .then((res) => {\n        setData(res.data.data.couponResDtoList.dtoList);\n        setCount(res.data.data.couponCnt);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const onResetData = () => {\n    marketingListApi(page, sort)\n      .then((res) => {\n        setCount(res.data.data.couponCnt);\n        setData(res.data.data.couponResDtoList.dtoList);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const changeState = (id) => {\n    changeStateApi(id)\n      .then((res) => window.location.reload())\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    searchData();\n  }, [page, sort]);\n  return (\n    <>\n      <SelectHeader\n        menu=\"marketing\"\n        menu1=\"marketing\"\n        menu2=\"event\"\n        Tmenu1=\"마케팅 서비스\"\n        Tmenu2=\"이벤트\"\n        onAsc={onAsc}\n        onDesc={onDesc}\n        sort={sort}\n        btn\n      />\n      <FilterRow\n        searchType={searchType}\n        setSearchType={setSearchType}\n        searchArr={searchArr}\n        setSearchArr={setSearchArr}\n        sort={sort}\n        count={count}\n        page={page}\n        item={item}\n        setPage={setPage}\n        searchData={searchData}\n        search={search}\n        setSearch={setSearch}\n        onDesc={onDesc}\n        onResetData={onResetData}\n      />\n      <S.Wrapper isNull={data.length === 0}>\n        <TableHeader>\n          <div>분류</div>\n          <div>브랜드</div>\n          <div>상품명</div>\n          <div>회원번호</div>\n          <div>핸드폰</div>\n          <div>신청일</div>\n          <div>처리일</div>\n          <div>상태</div>\n          <div>메모</div>\n        </TableHeader>\n        <MarketingsItem\n          data={data}\n          setModalMemo={setModalMemo}\n          setMemoItem={setMemoItem}\n          setAlert={setAlert}\n          alert={alert}\n          setReportId={setReportId}\n          page={page}\n        />\n      </S.Wrapper>\n      {alert && (\n        <RedAlert\n          text=\"마케팅 서비스 상태 변경\"\n          text2=\"'완료'\"\n          text3=\"로 상태를 변경하시겠습니까?\"\n          setAlert={setAlert}\n          func={changeState}\n          forFunc={reportId}\n        />\n      )}\n\n      {modalMemo && <MemoModal item={memoItem} setModal={setModalMemo} />}\n      {data.length === 0 && <None text=\"마케팅 서비스\" />}\n    </>\n  );\n};\n\nconst TableHeader = styled.div`\n  font-size: 14px;\n  display: flex;\n  width: 100%;\n  color: #8b8b8b;\n  text-align: center;\n  line-height: 42px;\n  border-bottom: 1px solid #515151;\n  & > div {\n    flex: 1;\n    border-right: 1px solid #515151;\n  }\n  & > div:nth-child(3) {\n    flex: 2;\n  }\n\n  & > div:last-child {\n    border-right: none;\n  }\n`;\n\nexport default Marketing;\n"],"names":["ItemRow","styled","props","hasMemoId","data","setAlert","setReportId","setSelectItem","setMemoModal","setMemoItem","page","alert","slice","map","item","i","String","couponId","padStart","brandName","itemName","memberId","phone","regDateTime","split","processingDateTime","content","status","onClick","id","state","TableHeader","useState","search","setSearch","setData","reportId","memoItem","modalMemo","setModalMemo","useSearch","searchType","setSearchType","searchArr","setSearchArr","usePagination","sort","count","setCount","setPage","onDesc","onAsc","searchData","marketingSearchApi","then","res","couponResDtoList","dtoList","couponCnt","catch","err","console","log","useEffect","SelectHeader","menu","menu1","menu2","Tmenu1","Tmenu2","btn","FilterRow","onResetData","marketingListApi","isNull","length","RedAlert","text","text2","text3","func","changeStateApi","window","location","reload","forFunc","Memo","setModal","None"],"sourceRoot":""}