{"version":3,"file":"static/js/593.f6bd2028.chunk.js","mappings":"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","sources":["recoil/editcafe.js","pages/editcafe.jsx"],"sourcesContent":["import { atom } from \"recoil\";\r\n\r\nexport const editcafe = atom({\r\n  key: \"editcafe\",\r\n  default: {\r\n    storeId: \"\",\r\n    phone: \"\",\r\n    website: \"\",\r\n    monOpen: \"\",\r\n    monClose: \"\",\r\n    tueOpen: \"\",\r\n    tueClose: \"\",\r\n    wedOpen: \"\",\r\n    wedClose: \"\",\r\n    thuOpen: \"\",\r\n    thuClose: \"\",\r\n    friOpen: \"\",\r\n    friClose: \"\",\r\n    satOpen: \"\",\r\n    satClose: \"\",\r\n    sunOpen: \"\",\r\n    sunClose: \"\",\r\n    wifiPassword: \"\",\r\n    etcTime: \"\",\r\n    deleteImageIdList: [],\r\n    updateImageFiles: [],\r\n  },\r\n});\r\n","import * as S from \"./regSt\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nimport { useRecoilState } from \"recoil\";\r\nimport { editcafe } from \"../recoil/editcafe\";\r\n\r\nimport { ReactComponent as Photo } from \"../svg/photo.svg\";\r\nimport { ReactComponent as CloseIcon } from \"../svg/close.svg\";\r\nimport { ReactComponent as Plus } from \"../svg/plus.svg\";\r\nimport { ReactComponent as ArrowDown } from \"../svg/ArrowDown.svg\";\r\nimport { ReactComponent as ArrowUp } from \"../svg/ArrowUp.svg\";\r\n\r\nimport PVImg from \"../components/common/PVImg\";\r\nimport SearchModal from \"../components/common/modal/SearchModal\";\r\nimport Row from \"../components/atoms/row\";\r\nimport Header from \"../components/common/header\";\r\n\r\nimport { convertTime, updateDay } from \"../hooks/registerHook\";\r\nimport { feedEditApi } from \"../util/management\";\r\n\r\nconst Editcafe = () => {\r\n  const { state } = useLocation();\r\n  const navigate = useNavigate();\r\n  const [file, setFile] = useState([]);\r\n  const [register, setRegister] = useRecoilState(editcafe);\r\n  const [openTime, setOpenTime] = useState(\"\");\r\n  const [closeTime, setCloseTime] = useState(\"\");\r\n  const [selectOn, setSelectOn] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loc, setLoc] = useState({ address_name: null });\r\n  const [searchModal, setSearchModal] = useState(false);\r\n  const [days, setDays] = useState([]);\r\n  const [dayarr, setDayarr] = useState([]);\r\n  const [delImg, setDelImg] = useState([]);\r\n  const [updateImg, setUpdata] = useState([]);\r\n\r\n  const onLoadFile = (e) => {\r\n    let copy = [...file];\r\n    if (copy.length >= 5) {\r\n      window.alert(\"이미지는 5개만 추가 가능합니다\");\r\n      return;\r\n    } else {\r\n      if (e.target.files[0]) {\r\n        copy = [...copy, e.target.files[0]];\r\n        setFile(copy);\r\n        let coppy = [...updateImg, e.target.files[0]];\r\n\r\n        const copy2 = { ...register };\r\n        copy2.updateImageFiles = coppy;\r\n        setRegister(copy2);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteImg = async (a, idx) => {\r\n    const copy = [...file];\r\n    const copy2 = { ...register };\r\n    let coppy = [...delImg];\r\n    const hasfile = await state.storeImageDtoList.filter(\r\n      (item) => item.imageUrl === a\r\n    );\r\n    if (hasfile[0]) {\r\n      coppy.push(hasfile[0].imageId);\r\n    }\r\n    copy.splice(idx, 1);\r\n    copy2.deleteImageIdList = coppy;\r\n    setFile(copy);\r\n    setRegister(copy2);\r\n    setDelImg(coppy);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const name = e.target.name;\r\n    const copy = { ...register };\r\n    copy[name] = e.target.value;\r\n    setRegister(copy);\r\n  };\r\n\r\n  const dayPush = async (e) => {\r\n    e.stopPropagation();\r\n    const copy = [...days];\r\n    if (!days.includes(e.currentTarget.id)) {\r\n      copy.push(e.currentTarget.id);\r\n      setDays(copy);\r\n    } else {\r\n      copy.splice(days.indexOf(e.currentTarget.id), 1);\r\n      setDays(copy);\r\n    }\r\n  };\r\n\r\n  const deleteDay = async (a, i) => {\r\n    const copy2 = { ...register };\r\n    for await (let item of a[2]) {\r\n      updateDay(item, copy2, \"\", \"\");\r\n    }\r\n    setRegister(copy2);\r\n    const copy = [...dayarr];\r\n    copy.splice(i, 1);\r\n    setDayarr(copy);\r\n  };\r\n\r\n  const addTime = async () => {\r\n    const copy = [...dayarr];\r\n    const copy2 = { ...register };\r\n    const open = await convertTime(openTime);\r\n    const close = await convertTime(closeTime);\r\n    for await (let item of days) {\r\n      updateDay(item, copy2, open, close);\r\n    }\r\n    setRegister(copy2);\r\n    copy.push([open, close, days]);\r\n    setDayarr(copy);\r\n    setOpenTime(\"\");\r\n    setCloseTime(\"\");\r\n    setDays([]);\r\n    setSelectOn(false);\r\n  };\r\n\r\n  const convertDay = (j) => {\r\n    if (j === \"onMon\") return \"월\";\r\n    if (j === \"onTue\") return \"화\";\r\n    if (j === \"onWed\") return \"수\";\r\n    if (j === \"onThu\") return \"목\";\r\n    if (j === \"onFri\") return \"금\";\r\n    if (j === \"onSat\") return \"토\";\r\n    if (j === \"onSun\") return \"일\";\r\n  };\r\n  const input = useRef();\r\n\r\n  const submit = async (register) => {\r\n    console.log(register);\r\n\r\n    feedEditApi(register)\r\n      .then((res) => {\r\n        console.log(res);\r\n        navigate(\"/management\");\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"조금 이따가 다시 시도해주세요\");\r\n        // navigate(\"/management\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchingData = async () => {\r\n      const copy = { ...register };\r\n      copy.storeId = state.storeId;\r\n      const obj = Object.keys(copy);\r\n      obj.map((item) => {\r\n        if (state[item]) {\r\n          copy.item = state[item];\r\n        }\r\n      });\r\n\r\n      setRegister(copy);\r\n    };\r\n\r\n    const fetching = async () => {\r\n      const obj = Object.keys(state.businessHoursResDto);\r\n      const copy = [...dayarr];\r\n      const copy2 = { ...register };\r\n      obj?.map((item, i) => {\r\n        if (state?.businessHoursResDto) {\r\n          if (item !== \"etcTime\") {\r\n            const day = convertDay(item);\r\n            const open = state?.businessHoursResDto[item]?.open;\r\n            const close = state?.businessHoursResDto[item]?.closed;\r\n            copy.push([open, close, day]);\r\n            updateDay(day, copy2, open, close);\r\n          }\r\n        }\r\n      });\r\n\r\n      setDayarr(copy);\r\n      setRegister(copy2);\r\n    };\r\n    const fetchingImg = async () => {\r\n      const copy = [...file];\r\n      if (state.storeImageDtoList) {\r\n        for (let i = 0; i < state.storeImageDtoList.length; i++) {\r\n          copy.push(state.storeImageDtoList[i].imageUrl);\r\n        }\r\n      }\r\n      setFile(copy);\r\n    };\r\n    if (state) {\r\n      fetching();\r\n      fetchingImg();\r\n      fetchingData();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        align={\"center\"}\r\n        mcolor={\"#8B8B8B\"}\r\n        text={\"카페 관리\"}\r\n        inner={\"카페 상세 수정\"}\r\n      >\r\n        <div>\r\n          <S.Submit\r\n            style={{ marginRight: \"15px\" }}\r\n            onClick={() => window.history.back()}\r\n          >\r\n            취소\r\n          </S.Submit>\r\n          <S.Submit\r\n            disalbed={\r\n              register.storeName == null ||\r\n              register.siNm == null ||\r\n              register.recommendation == null ||\r\n              register.wifi == null ||\r\n              register.restroom == null ||\r\n              register.tableSize == null ||\r\n              register.socket == null\r\n            }\r\n            isFill={\r\n              register.storeName !== null &&\r\n              register.siNm !== null &&\r\n              register.recommendation !== null &&\r\n              register.wifi !== null &&\r\n              register.restroom !== null &&\r\n              register.tableSize !== null &&\r\n              register.socket !== null\r\n            }\r\n            onClick={() => submit(register)}\r\n          >\r\n            등록\r\n          </S.Submit>\r\n        </div>\r\n      </Header>\r\n      <S.Containaer>\r\n        <Row gap={20}>\r\n          <S.Column>\r\n            <S.InputBox>\r\n              <span>카페명</span>\r\n              <div>{state.storeName}</div>\r\n            </S.InputBox>\r\n            <S.InputBox>\r\n              <span>주소</span>\r\n              <div>{loc.address_name || state.address.fullAddress} </div>\r\n            </S.InputBox>\r\n            <S.Box height={168}>\r\n              <p>장소 사진</p>\r\n              <S.PhotoBox>\r\n                <S.FileUpload\r\n                  onClick={() => {\r\n                    input.current?.click();\r\n                  }}\r\n                >\r\n                  <Photo />\r\n                  <div>{file.length}/5</div>\r\n                  <input\r\n                    ref={input}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={(e) => onLoadFile(e)}\r\n                  />\r\n                </S.FileUpload>\r\n                {file?.map((a, idx) => {\r\n                  return (\r\n                    <S.ImgBox key={idx}>\r\n                      <CloseIcon\r\n                        name={a.name}\r\n                        onClick={() => deleteImg(a, idx)}\r\n                      />\r\n                      <PVImg img={a} />\r\n                    </S.ImgBox>\r\n                  );\r\n                })}\r\n              </S.PhotoBox>\r\n            </S.Box>\r\n            <S.Box height={128}>\r\n              <p>운영시간</p>\r\n              <S.TimeBox>\r\n                <S.BtnRow gap={13}>\r\n                  <S.Btn>\r\n                    {openTime && (\r\n                      <p>{openTime.slice(0, 2) > 12 ? \"오후\" : \"오전\"}</p>\r\n                    )}\r\n                    <input\r\n                      placeholder=\"시작 시간\"\r\n                      value={openTime}\r\n                      onChange={(e) => {\r\n                        setOpenTime(e.target.value);\r\n                      }}\r\n                    />\r\n                  </S.Btn>\r\n                  <S.Btn>\r\n                    {closeTime && (\r\n                      <p>{closeTime.slice(0, 2) > 12 ? \"오후\" : \"오전\"}</p>\r\n                    )}\r\n                    <input\r\n                      placeholder=\"종료 시간\"\r\n                      value={closeTime}\r\n                      onChange={(e) => {\r\n                        setCloseTime(e.target.value);\r\n                      }}\r\n                    />\r\n                  </S.Btn>\r\n                  <S.Btn2 isT={selectOn} onClick={() => setSelectOn(!selectOn)}>\r\n                    {days.length === 0 ? (\r\n                      <Row gap={13} align={\"center\"}>\r\n                        <p>반복</p> {selectOn ? <ArrowUp /> : <ArrowDown />}\r\n                      </Row>\r\n                    ) : (\r\n                      <p>{days.join(\" \")}</p>\r\n                    )}\r\n                  </S.Btn2>\r\n                  <Plus onClick={addTime} />\r\n                </S.BtnRow>\r\n                {dayarr &&\r\n                  dayarr.map((item, i) => (\r\n                    <S.Day key={i}>\r\n                      <div>\r\n                        {item[0].slice(0, 2) > 12 ? \"오후\" : \"오전\"}{\" \"}\r\n                        {item[0].slice(0, 2) > 12\r\n                          ? `${String(item[0].slice(0, 2) - 12).padStart(\r\n                              2,\r\n                              \"0\"\r\n                            )}:${item[0].slice(3)}`\r\n                          : item[0]}\r\n                      </div>\r\n                      <div>\r\n                        {item[1].slice(0, 2) > 12 ? \"오후\" : \"오전\"}{\" \"}\r\n                        {item[1].slice(0, 2) > 12\r\n                          ? `${String(item[1].slice(0, 2) - 12).padStart(\r\n                              2,\r\n                              \"0\"\r\n                            )}:${item[1].slice(3)}`\r\n                          : item[1]}\r\n                      </div>\r\n                      <div>\r\n                        {item[2].length == 1 ? item[2] : item[2].join(\",\")}\r\n                      </div>\r\n                      <p\r\n                        onClick={() => {\r\n                          deleteDay(item, i);\r\n                        }}\r\n                      >\r\n                        삭제\r\n                      </p>\r\n                    </S.Day>\r\n                  ))}\r\n              </S.TimeBox>\r\n            </S.Box>\r\n            <S.TextBox>\r\n              <p>안내사항</p>\r\n              <p>카공인에게 도움이 될 수 있는 정보를 공유해 주세요.</p>\r\n              <p>\r\n                부적절한 정보가 등록될 경우 카페인 운영정책에 따라 삭제될 수\r\n                있어요.\r\n              </p>\r\n            </S.TextBox>\r\n          </S.Column>\r\n          <S.Column>\r\n            {selectOn && (\r\n              <S.ComboBox x={\"-400%\"} y={\"185%\"}>\r\n                <div id=\"월\" onClick={(e) => dayPush(e)}>\r\n                  월요일\r\n                </div>\r\n                <div id=\"화\" onClick={(e) => dayPush(e)}>\r\n                  화요일\r\n                </div>\r\n                <div id=\"수\" onClick={(e) => dayPush(e)}>\r\n                  수요일\r\n                </div>\r\n                <div id=\"목\" onClick={(e) => dayPush(e)}>\r\n                  목요일\r\n                </div>\r\n                <div id=\"금\" onClick={(e) => dayPush(e)}>\r\n                  금요일\r\n                </div>\r\n                <div id=\"토\" onClick={(e) => dayPush(e)}>\r\n                  토요일\r\n                </div>\r\n                <div id=\"일\" onClick={(e) => dayPush(e)}>\r\n                  일요일\r\n                </div>\r\n              </S.ComboBox>\r\n            )}\r\n            <S.InputBox>\r\n              <span>기타 운영 시간</span>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Ex. 매달 첫째주 수요일\"\r\n                name=\"etcTime\"\r\n                defaultValue={state?.businessHoursResDto?.etcTime}\r\n                onChange={(e) => onChange(e)}\r\n              />\r\n            </S.InputBox>\r\n            <S.InputBox>\r\n              <span>전화번호</span>\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                defaultValue={loc?.phone || state.phone}\r\n                onChange={(e) => onChange(e)}\r\n                placeholder=\"카페 전화번호를 입력해주세요\"\r\n              />\r\n            </S.InputBox>\r\n            <S.InputBox>\r\n              <span>웹사이트</span>\r\n              <input\r\n                type=\"text\"\r\n                name=\"website\"\r\n                defaultValue={state.website}\r\n                onChange={(e) => onChange(e)}\r\n                placeholder=\"카페 홈페이지 또는 인스타그램 주소를 입력해주세요\"\r\n              />\r\n            </S.InputBox>\r\n            <S.InputBox>\r\n              <span>와이파이 비밀번호</span>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"와이파이 비밀번호를 입력해 주세요\"\r\n                name=\"wifiPassword\"\r\n                defaultValue={state.wifiPassword}\r\n                onChange={(e) => onChange(e)}\r\n              />\r\n            </S.InputBox>\r\n          </S.Column>\r\n        </Row>\r\n      </S.Containaer>\r\n      {searchModal && (\r\n        <SearchModal\r\n          setModal={setSearchModal}\r\n          search={search}\r\n          setSearch={setSearch}\r\n          setLoc={setLoc}\r\n          setRegister={setRegister}\r\n          register={register}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Editcafe;\r\n"],"names":["editcafe","atom","key","default","storeId","phone","website","monOpen","monClose","tueOpen","tueClose","wedOpen","wedClose","thuOpen","thuClose","friOpen","friClose","satOpen","satClose","sunOpen","sunClose","wifiPassword","etcTime","deleteImageIdList","updateImageFiles","state","useLocation","navigate","useNavigate","useState","file","setFile","useRecoilState","register","setRegister","openTime","setOpenTime","closeTime","setCloseTime","selectOn","setSelectOn","search","setSearch","address_name","loc","setLoc","searchModal","setSearchModal","days","setDays","dayarr","setDayarr","delImg","setDelImg","updateImg","deleteImg","a","idx","copy","copy2","coppy","storeImageDtoList","filter","item","imageUrl","hasfile","push","imageId","splice","onChange","e","name","target","value","dayPush","stopPropagation","includes","currentTarget","id","indexOf","deleteDay","i","updateDay","addTime","convertTime","open","close","input","useRef","submit","console","log","feedEditApi","then","res","catch","err","window","alert","useEffect","fetchingData","Object","keys","map","fetching","obj","businessHoursResDto","day","j","closed","fetchingImg","length","align","mcolor","text","inner","style","marginRight","onClick","history","back","disalbed","storeName","siNm","recommendation","wifi","restroom","tableSize","socket","isFill","gap","address","fullAddress","height","current","click","ref","type","accept","display","files","onLoadFile","PVImg","img","slice","placeholder","isT","ArrowUp","ArrowDown","join","String","padStart","x","y","defaultValue","SearchModal","setModal"],"sourceRoot":""}