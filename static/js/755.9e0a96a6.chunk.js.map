{"version":3,"file":"static/js/755.9e0a96a6.chunk.js","mappings":"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","sources":["hooks/useSearch.jsx","components/MarketingsItem.jsx","pages/Marketing.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\n\r\nexport default function useSearch(initialForm) {\r\n  const [searchType, setSearchType] = useState(\"전체\");\r\n  const [searchArr, setSearchArr] = useState(initialForm);\r\n\r\n  return [searchType, setSearchType, searchArr, setSearchArr];\r\n}\r\n","import { ReactComponent as Memo } from \"../svg/memo.svg\";\r\nimport * as S from \"../pages/style copy\";\r\nimport styled from \"styled-components\";\r\n\r\nconst MarketingsItem = ({\r\n  data,\r\n  setAlert,\r\n  setReportId,\r\n  setSelectItem,\r\n  setMemoModal,\r\n  setMemoItem,\r\n  page,\r\n  alert,\r\n}) => {\r\n  const changeState = (id, state) => {\r\n    if (!state) {\r\n      setAlert(!alert);\r\n      setReportId(id);\r\n    }\r\n  };\r\n  return (\r\n    <S.DataBox>\r\n      {data &&\r\n        data.slice((page - 1) * 9, (page - 1) * 9 + 10).map((item, i) => (\r\n          <ItemRow key={i}>\r\n            <div>{String(item.couponId).padStart(6, \"0\")}</div>\r\n            <div>{item.brandName}</div>\r\n            <div>{item.itemName}</div>\r\n            <div>{String(item.memberId).padStart(6, \"0\")}</div>\r\n            <div>{item.phone || \"-\"}</div>\r\n            <div>{String(item.regDateTime).split(\"T\")[0]}</div>\r\n            <div>\r\n              {item.processingDateTime ? String(item.processingDateTime).split(\"T\")[0] : \"-\"}\r\n            </div>\r\n            <div>\r\n              <S.Btn\r\n                content={item.status}\r\n                onClick={() => {\r\n                  changeState(item.couponId, item.state);\r\n                }}\r\n              >\r\n                {item.processingDateTime !== null ? \"완료\" : \"미완료\"}\r\n              </S.Btn>\r\n            </div>\r\n            <div>\r\n              <Memo\r\n                onClick={() => {\r\n                  setSelectItem(item);\r\n                  setMemoItem(item);\r\n                  setMemoModal(true);\r\n                }}\r\n              />\r\n            </div>\r\n          </ItemRow>\r\n        ))}\r\n    </S.DataBox>\r\n  );\r\n};\r\n\r\nconst ItemRow = styled.div`\r\n  display: flex;\r\n  color: #e3e3e3;\r\n  font-size: 14px;\r\n  // flex: 1;\r\n  height: calc(65vh / 9);\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #515151;\r\n  & > div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    line-height: 18px;\r\n    box-sizing: border-box;\r\n    flex: 1;\r\n    border-right: 1px solid #515151;\r\n  }\r\n  & > div:nth-child(3) {\r\n    flex: 2;\r\n  }\r\n  & > div:last-child {\r\n    border-right: none;\r\n    border-bottom: none;\r\n    & > svg {\r\n      path {\r\n        fill: ${(props) => (props.hasMemoId ? \"#E3E3E3\" : \"#646464\")};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default MarketingsItem;\r\n","import { useEffect, useState } from \"react\";\r\nimport usePagination from \"../hooks/usePagination\";\r\nimport useSearch from \"../hooks/useSearch\";\r\n\r\nimport * as S from \"./style copy\";\r\nimport styled from \"styled-components\";\r\n\r\nimport None from \"../components/common/None\";\r\n\r\nimport { changeStateApi, marketingListApi, marketingSearchApi } from \"../util/events\";\r\nimport RedAlert from \"../components/modal/RedAlert\";\r\nimport MarketingsItem from \"../components/MarketingsItem\";\r\nimport MemoModal from \"../components/modal/Memo\";\r\nimport FilterRow from \"../components/common/FilterRow\";\r\n\r\nimport SelectHeader from \"../components/common/SelectHeader\";\r\n\r\nconst Marketing = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [data, setData] = useState([]);\r\n  const [reportId, setReportId] = useState(null);\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  const [memoItem, setMemoItem] = useState(null);\r\n  const [modalMemo, setModalMemo] = useState(false);\r\n\r\n  //drop\r\n  const [searchType, setSearchType, searchArr, setSearchArr] = useSearch([\r\n    \"분류\",\r\n    \"회원 번호\",\r\n    \"핸드폰\",\r\n  ]);\r\n\r\n  // pagination\r\n  const [page, sort, item, count, setCount, setPage, onDesc, onAsc] = usePagination();\r\n\r\n  const searchData = () => {\r\n    marketingSearchApi(searchType, search, page, sort)\r\n      .then((res) => {\r\n        setData(res.data.data.couponResDtoList.dtoList);\r\n        setCount(res.data.data.couponCnt);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const onResetData = () => {\r\n    marketingListApi(page, sort)\r\n      .then((res) => {\r\n        setCount(res.data.data.couponCnt);\r\n        setData(res.data.data.couponResDtoList.dtoList);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const changeState = (id) => {\r\n    changeStateApi(id)\r\n      .then((res) => window.location.reload())\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    searchData();\r\n  }, [page, sort]);\r\n  return (\r\n    <>\r\n      <SelectHeader\r\n        menu=\"marketing\"\r\n        menu1=\"marketing\"\r\n        menu2=\"event\"\r\n        Tmenu1=\"마케팅 서비스\"\r\n        Tmenu2=\"이벤트\"\r\n        onAsc={onAsc}\r\n        onDesc={onDesc}\r\n        sort={sort}\r\n        btn\r\n      >\r\n        <S.Sbtn color=\"#2563EB\">스티커 지급</S.Sbtn>\r\n      </SelectHeader>\r\n      <FilterRow\r\n        searchType={searchType}\r\n        setSearchType={setSearchType}\r\n        searchArr={searchArr}\r\n        setSearchArr={setSearchArr}\r\n        sort={sort}\r\n        count={count}\r\n        page={page}\r\n        item={item}\r\n        setPage={setPage}\r\n        searchData={searchData}\r\n        search={search}\r\n        setSearch={setSearch}\r\n        onDesc={onDesc}\r\n        onResetData={onResetData}\r\n      />\r\n      <S.Wrapper isNull={data.length === 0}>\r\n        <TableHeader>\r\n          <div>분류</div>\r\n          <div>브랜드</div>\r\n          <div>상품명</div>\r\n          <div>회원번호</div>\r\n          <div>핸드폰</div>\r\n          <div>신청일</div>\r\n          <div>처리일</div>\r\n          <div>상태</div>\r\n          <div>메모</div>\r\n        </TableHeader>\r\n        <MarketingsItem\r\n          data={data}\r\n          setModalMemo={setModalMemo}\r\n          setMemoItem={setMemoItem}\r\n          setAlert={setAlert}\r\n          alert={alert}\r\n          setReportId={setReportId}\r\n          page={page}\r\n        />\r\n      </S.Wrapper>\r\n      {alert && (\r\n        <RedAlert\r\n          text=\"마케팅 서비스 상태 변경\"\r\n          text2=\"'완료'\"\r\n          text3=\"로 상태를 변경하시겠습니까?\"\r\n          setAlert={setAlert}\r\n          func={changeState}\r\n          forFunc={reportId}\r\n        />\r\n      )}\r\n\r\n      {modalMemo && <MemoModal item={memoItem} setModal={setModalMemo} />}\r\n      {data.length === 0 && <None text=\"마케팅 서비스\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst TableHeader = styled.div`\r\n  font-size: 14px;\r\n  display: flex;\r\n  width: 100%;\r\n  color: #8b8b8b;\r\n  text-align: center;\r\n  line-height: 42px;\r\n  border-bottom: 1px solid #515151;\r\n  & > div {\r\n    flex: 1;\r\n    border-right: 1px solid #515151;\r\n  }\r\n  & > div:nth-child(3) {\r\n    flex: 2;\r\n  }\r\n\r\n  & > div:last-child {\r\n    border-right: none;\r\n  }\r\n`;\r\n\r\nexport default Marketing;\r\n"],"names":["useSearch","initialForm","useState","searchType","setSearchType","ItemRow","styled","props","hasMemoId","data","setAlert","setReportId","setSelectItem","setMemoModal","setMemoItem","page","alert","slice","map","item","i","String","couponId","padStart","brandName","itemName","memberId","phone","regDateTime","split","processingDateTime","content","status","onClick","id","state","TableHeader","search","setSearch","setData","reportId","memoItem","modalMemo","setModalMemo","searchArr","setSearchArr","usePagination","sort","count","setCount","setPage","onDesc","onAsc","searchData","marketingSearchApi","then","res","couponResDtoList","dtoList","couponCnt","catch","err","console","log","useEffect","SelectHeader","menu","menu1","menu2","Tmenu1","Tmenu2","btn","color","FilterRow","onResetData","marketingListApi","isNull","length","RedAlert","text","text2","text3","func","changeStateApi","window","location","reload","forFunc","Memo","setModal","None"],"sourceRoot":""}